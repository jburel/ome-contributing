Import As
===============



**To test in**: Insight

**Purpose of the test** is to check importing for other users.


NB: Only Administrators can import data for other users. 
NB: When importing the data for another user, the permissions to link these data to a third party P/D/S is dependent on the permission levels of the user for whom the data is being imported ( = the owner of the data).

#. Check the permission levels for linking the data to other users' P/D/S (= Link/Unlink) :omerodoc:`here <sysadmins/server-permissions.html>`.

#. Read the :ref:`Table of permissions-users <Table-of-permissions-users>`. You will pick or you have been assigned to 3 users from one group:
 
   - an administrator (e.g. user-6)
   - a user which can Link (e.g. user-11)
   - a user which cannot Link (e.g. user-3)

#. Make sure you have images ready on your local hierarchy. Use small images which you can pull from `here <https://github.com/pwalczysko/fresh_import/tree/final-scripts>`_.here. You will need to have images without folders as well as within folders.

   - prepare folders with images for the user which can Link
   - prepare folders with images for the user which cannot Link

#. In Insight UI, prepare Projects and Datasets for the users for which you will import later

   - Login as the user which cannot Link.
   - Create a Project and a Screen for the data for the user which cannot Link (e.g. "user-3 for user-3's data")
   - Create a Project and a Screen for the data of the user which can Link (e.g. "user-3 for user-11's data")
   - Login as the user which can Link.
   - Create a Project and a Screen for the data of the user which can Link (e.g. "user-11 for user-11's data")
   - Create a Project and a Screen for the data of the user which cannot Link (e.g. "user-11 for user-3's data")
   - Login as administrator
   - Create a project and a Screen for the data of the user which cannot Link (e.g. "user-6 for user-3's data") 
   - Create a project and a Screen for the data of the user which can Link (e.g. "user-6 for user-11's data")

#. Log in as administrator.

#. Switch to Group Display. 

#. Import for the user which can Link, do not create a new Project at import stage. 

   - Open Importer, select the folder you prepared in step 3 for the user which can Link, click ``>``.
   - In the Import Location window, select ``Import For`` the user which can Link [:ref:`ImportAsScreen001`]
   - Open the Projects menu, you should be able to select the Projects of the user which can Link and other users' Projects [:ref:`ImportAsScreenCan link user project`]. The red dots mark the projects owned by any user for which you ARE NOT IMPORTING FOR atm.
   - Select the Project owned by the user which cannot Link (e.g. "user-3 for user-11's data") [:ref:`ImportAsScreenSelect the project of who cannot link`] and import.
   - Select the Project owned by the user which can Link (e.g. "user-11 for user-11's data") and import.
   - Select the Project owned by the admin (e.g. "user-6 for user-11's data") and import

#. Import for the user which cannot Link, do not create a new Project at import stage

   - Select "Import For" the user which cannot Link
   - Open the Projects menu, you should see all projects, but not be able to select any Projects except the ones owned by the user you are importing for now [:ref:`ImportAsScreenCannot link user project`]
   - Select the Project owned by the user which cannot Link (e.g. "user-3 for user-3's data") and import.


#. Repeat steps 7, 8 importing single images (not a whole folder).

#. Repeat steps 7, 8 importing plates.

#. Repeat steps 7, 8 creating a new 

   - Project at import stage and importing to it
   - Dataset at import stage and importing to it
   - Screen at import stage and importing a plate to it.

#. Check the imported objects

   - |C| that new P/D/Ss were created and the images/plates were imported as appropriate [:ref:`ImportAsScreen002`]
   - |C| that the ownership of the P/D/Ss and of the imported images/plates is as expected [:ref:`ImportAsScreenownership`] 




#. Switch to User Display. Note that you cannot see other users' Projects in the Import Location window. The only Projects which you can see and select are owned by the user you are importing for [:ref:`ImportAsScreenUser display`].

   - Repeat steps 7, 8, 9, 10, 11, 12. 



.. _ImportAsScreen001:
.. figure:: /images/testing_scenarios/ImportAs/001.png
   :align: center

   ImportAsScreen001


|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|


.. _ImportAsScreen002:
.. figure:: /images/testing_scenarios/ImportAs/002.png
   :align: center

   ImportAsScreen002

|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|

