Import As
===============



**To test in**: Insight and Web (Web - viewing the imported plates/images only)

**Purpose of the test** is to check importing for other users.


NB: Only Administrators can import data for other users. When importing the data for another user, the permissions to link these data to a third party P/D/S is dependent on the permission levels of the user for whom the data is being imported ( = the owner of the data).

#. Check the permission levels for linking the data to other users' P/D/S (= Link/Unlink) :omerodoc:`here <sysadmins/server-permissions.html>`.

#. Read the :ref:`Table of permissions-users <Table-of-permissions-users>`. You will pick or you have been assigned to 3 users from one group.:
 
   - an administrator (e.g. user-6)
   - a user which CANNOT Link ("No Link" = NL) - referred to as user-NL from here
   - a user which Can Link (CL) - referred to as user-CL from here


#. Make sure you have images ready on your local hierarchy. Use small images which you can pull from `here <https://github.com/pwalczysko/fresh_import/tree/final-scripts>`_. You will need to have well-named images within well-named folders.

   - prepare folders with images for user-NL
   - prepare folders with images for user-CL


#. In Insight UI, prepare Projects and Datasets for the users for which you will import later

   - Login as user-NL.
   - Create a Project and a Screen for the data for user-NL (e.g. "user-NL for user-NL's data")
   - Create a Project and a Screen for the data of user-CL (e.g. "user-NL for user-CL's data")
   - Login as user-CL.
   - Create a Project and a Screen for the data of user-NL (e.g. "user-CL for user-NL's data")
   - Create a Project and a Screen for the data of user-CL (e.g. "user-CL for user-CL's data")
   - Login as administrator
   - Create a project and a Screen for the data of user-NL (e.g. "user-6 for user-NL's data") 
   - Create a project and a Screen for the data of user-CL (e.g. "user-6 for user-CL's data")

#. Log in as administrator.

#. Switch to Group Display. 

#. Import for user-CL, do not create a new Project at import stage. 

   - Open Importer, select the folder you prepared in step 3 for user-CL, click ``>``.
   - In the Import Location window, select ``Import For`` user-CL [:ref:`ImportAsScreen001`]
   - Open the Projects menu, you should be able to select the Projects of the user-CL and other users' Projects [:ref:`ImportAsScreen002`]. The red dots mark the projects owned by anyone else than user-CL.
   - Select the Project owned by the user-NL (e.g. "user-NL for user-CL's data") [:ref:`ImportAsScreen003`] and import.
   - Select the Project owned by the user-CL (e.g. "user-CL for user-CL's data") and import.
   - Select the Project owned by the admin (e.g. "user-6 for user-CL's data") and import

#. Import for user-NL, do not create a new Project at import stage

   - Select ``Import For`` user-NL
   - Open the Projects menu, you should see all projects, but not be able to select any Projects except the ones owned by user-NL [:ref:`ImportAsScreen004`]
   - Select the Project owned by the user-NL (e.g. "user-NL for user-NL's data") and import.


#. Repeat steps 7, 8 importing single images (not a whole folder).

#. Repeat steps 7, 8 importing plates (small multi-well e.g. ``test_images_good/bd-pathway/2009-05-01_000/``).

#. Repeat steps 7, 8 creating a new 

   - Project at import stage and importing to it
   - Dataset at import stage and importing to it
   - Screen at import stage and importing a plate to it.

#. Check the imported objects.

   - Start checking in Web first, then in Insight. View the data logged in as the user which did not import them and does not own them.
   - |C| that new P/D/S were created and the images/plates were imported as appropriate [:ref:`ImportAsScreen005`]
   - |C| that the ownership of the P/D/S and of the imported images/plates is as expected [:ref:`ImportAsScreen006`] 




#. Switch to User Display. Note that now you cannot see other users' Projects in the Import Location window. The only Projects which you can see and select are owned by the user you are importing for [:ref:`ImportAsScreen007`].

   - Working in User Display mode, repeat steps 7, 8, 9, 10, 11, 12. 



.. _ImportAsScreen001:
.. figure:: /images/testing_scenarios/ImportAs/001.png
   :align: center

   ImportAsScreen001


|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|

.. _ImportAsScreen002:
.. figure:: /images/testing_scenarios/ImportAs/002.png
   :align: center

   ImportAsScreen002


|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|


.. _ImportAsScreen003:
.. figure:: /images/testing_scenarios/ImportAs/003.png
   :align: center

   ImportAsScreen003


|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|

.. _ImportAsScreen004:
.. figure:: /images/testing_scenarios/ImportAs/004.png
   :align: center

   ImportAsScreen004


|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|

.. _ImportAsScreen005:
.. figure:: /images/testing_scenarios/ImportAs/005.png
   :align: center

   ImportAsScreen005

|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|


.. _ImportAsScreen006:
.. figure:: /images/testing_scenarios/ImportAs/006.png
   :align: center

   ImportAsScreen006


|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|

.. _ImportAsScreen007:
.. figure:: /images/testing_scenarios/ImportAs/007.png
   :align: center

   ImportAsScreen007


|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|
|


